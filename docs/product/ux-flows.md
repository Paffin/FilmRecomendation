# UX‑потоки

## Онбординг
1. Логин/регистрация → редирект на `/onboarding`.
2. Шаг «Типы контента»: чекбоксы (фильмы, сериалы, аниме, мультфильмы) → далее.
3. Шаг «Отмеченные тайтлы»: поле поиска (через backend TMDB), выдача карточек с постером + кнопки «Смотрел», «Не смотрел». Кнопка «Показать ещё» для пагинации.
4. После отметки ≥10 тайтлов появляется CTA «Достаточно, дальше».
5. Шаг лайков: лента из отмеченных — пользователь проставляет «Нравится/Не нравится» минимум 5 штук.
6. Кнопка «Завершить» → POST `/api/onboarding/complete`, редирект на `/recommendations`.

## Экран рекомендаций
- Верхний блок «Режим вечера»: слайдер настроения (лёгкое ↔ тяжёлое), слайдер «хочу думать», селектор «Компания», селектор «Время есть». Кнопка «Обновить» или автоапдейт при изменении.
- Основная сетка: 5 карточек с плавным появлением. На каждой — постер, названия (RU/ориг), жанры, год, кнопки «Нравится» (primary), «Не подходит» (outlined, red). Под карточкой — блок «Почему в рекомендациях» (2–3 буллета).
- Лайк: оптимистичное обновление — добавляет в watchlist, меняет иконку, отправляет feedback. Дизлайк: карточка анимировано исчезает, приходит новая из того же session (или новый запрос с теми же параметрами, исключая антисписок и уже показанные в session).

## Watchlist
- Табличный/карточный список. Фильтры по статусу и типу. Быстрая смена статуса выпадающим списком или чипами. Кнопка «Смотрел» сразу переводит в watched + просит оценку/лайк (модалка, опционально).

## История
- Лента/список с датой последнего взаимодействия. Фильтры по периоду (быстро: 30/90/365 дней + календарь), жанрам, типам. В карточке — кнопки лайк/дизлайк, рейтинг (1–10) и статус. Изменения сохраняются сразу.

## Профиль и аналитика
- Блок KPI: кол-во просмотренных, суммарное время, % по типам.
- «Карта вкуса»: spider-chart (ось «легкость/тяжесть», «динамика», «массовость/нишевость»), + бар‑чарты по жанрам/странам/годам.
- Инсайты в карточках: «Топ режиссёры», «Любимые десятилетия», «Часто смотрите вечером по будням».
- Антисписок: таб со списком дизлайкнутых, кнопка «Вернуть» снимает блокировку.

## Карточка тайтла `/title/:id`
- Герой‑секция: постер, название RU/ориг, год, жанры, длительность, рейтинг TMDB/IMDb.
- Действия: «В список» (если нет), «Смотрел», лайк/дизлайк, статус селектор. Toast об успешном действии.
- Описание + ключевые актеры/режиссёр; блок похожих (карусель), загрузка через backend.

## Ошибки/лоадеры
- Skeleton‑карточки для сеток, shimmer эффект.
- Toast для ошибок (сетевые, TMDB, валидация). При падении рекомендаций — fallback карточка «Что-то не так, попробуйте обновить» с кнопкой «Повторить».
